<div class="side-bar" [ngStyle]="{'width': toggleState ? '50px' : '240px' }">
    <div *ngIf="!toggleState; else smallSidebar">
    <div class="search-box p-2 ">
        <div class="search-input flex-grow-1 mx-2">
            <input type="text" name="" id="" placeholder="Search menu">
            <button class="search-icon"><i class="bi bi-search"></i></button>
        </div>
        <div style="border-left: 1px solid gray;">
            <button class="btn-icon flex-grow-1" (click)="toggleFunc()"><i class="bi bi-chevron-double-left"></i></button>
        </div>
    </div>
    <div>
        <ul class="sidebarList">
            <li *ngFor="let item of navList">

                @if(item.name === "Data Library") {

                    <a (click)="toggleExpand()" class="text-decoration-none text-dark" style="cursor: pointer;">
                        <i class="bi bi-chevron-right"></i> <i [ngClass]="item.icon" class="mx-2"></i> {{item.name}}
                    </a>

                    <ul *ngIf="expanded" class="nested-list">
                        <li *ngFor="let subitem of item.dropdownList">
                          <a [routerLink]="subitem.linkto" class="text-decoration-none text-dark">
                            <i class="bi bi-chevron-right"></i> {{ subitem.name }}
                          </a>
                        </li>
                    </ul>


                   }  @else {
                    <a [routerLink]="item.linkto" class="text-decoration-none text-dark">
                        <i class="bi bi-chevron-right"></i> <i [ngClass]="item.icon" class="mx-2"></i> {{item.name}}
                    </a>
                   }

            </li>
        </ul>
    </div>
    </div>

    <ng-template #smallSidebar>
        <div class="d-flex p-2">
            <button class="btn-icon" (click)="toggleFunc()"><i class="bi bi-chevron-double-right"></i></button>
        </div>
        <div>
            <ul class="sidebarList">
                <li *ngFor="let item of navList" class="text-center">
                    <i [ngClass]="item.icon" style="font-size: 18px;"></i>
                </li>
            </ul>
        </div>
    </ng-template>
</div>